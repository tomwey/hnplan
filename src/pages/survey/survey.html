<!--
  Generated template for the SurveyPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="primary">
    <ion-title>{{title}}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>
  <div class="empty-error-box" *ngIf="!!error">
    {{error}}
  </div>
  <ion-list>
    <ion-card *ngFor="let item of formData;let i = index;">
      <ion-item>
        <h2 text-wrap>{{i+1}}、{{item.caption}}{{item.ismust == '1' ? '（ *必填 ）' : ''}}</h2>
        <!-- <ion-textarea *ngIf="item.itype == '3'" [(ngModel)]="item.addvalue" placeholder="输入内容" rows="6">

        </ion-textarea> -->
        <div class="options">
          <p class="opt" *ngFor="let opt of item.titles">
            <span tappable (click)="selectItems(item,opt);" *ngIf="opt.itype != '3'">
              <ion-icon name="{{opt.titlevalue == '1' ? 'ios-checkbox-outline' : 'ios-square-outline'}}" *ngIf="item.itype == '2'"></ion-icon>
            <ion-icon name="{{opt.titlevalue == '1' ? 'ios-radio-button-on-outline' : 'ios-radio-button-off-outline'}}" *ngIf="item.itype == '1'"></ion-icon>
            {{opt.title}}</span>
            <input type="text" 
              [(ngModel)]="opt.addvalue" 
              *ngIf="opt.itype != '3' && opt.needinput == true" 
              placeholder="输入内容" 
              class="custom-input">

              <span *ngIf="opt.itype === '3'">
                  <!-- {{opt.title}}{{opt.ismust ? '（ *必填 ）' : ''}}<br> -->
                  <textarea placeholder="输入内容" class="custom-textarea" [(ngModel)]="opt.addvalue" rows="6">

                  </textarea>
              </span>
              <!-- <ion-textarea *ngIf="opt.itype == '3'" [(ngModel)]="item.addvalue" placeholder="输入内容" rows="6">

              </ion-textarea> -->
          </p>
        </div>
      </ion-item>
    </ion-card>
  </ion-list>
</ion-content>

<ion-footer>
  <div padding>
    <button ion-button block (click)="commit();">保存</button>
  </div>
</ion-footer>
