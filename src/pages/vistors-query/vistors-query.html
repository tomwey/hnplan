<!--
  Generated template for the VistorsQueryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header no-border>

  <ion-navbar color="primary">
    <!-- <ion-buttons start>
      <button ion-button icon-only (click)="back();">
        <ion-icon name="ios-arrow-back-outline"></ion-icon>
      </button>
    </ion-buttons> -->
    <ion-title>来访登记</ion-title>
  </ion-navbar>

</ion-header>

<ion-content>
  <ion-card>
    <!-- <ion-list> -->
    <ion-item>
      <ion-label fixed>客户姓名</ion-label>
      <ion-input placeholder="输入姓名" [(ngModel)]="queryModel.name"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label fixed><span class="required">*</span>客户手机</ion-label>
      <ion-input placeholder="输入11位手机" type="tel" pattern="[0-9]*" [(ngModel)]="queryModel.mobile"></ion-input>
    </ion-item>
    <!-- <ion-item>
      <ion-label>所属项目</ion-label>
      <ion-select placeholder="请选择" okText="确定" 
        cancelText="取消">
        <ion-option>项目1</ion-option>
        <ion-option>项目2</ion-option>
        <ion-option>项目3</ion-option>
      </ion-select>
    </ion-item> -->
    <button ion-item (click)="selectProject();">
      <ion-label fixed><span class="required">*</span>所属项目</ion-label>
      <span class="placeholder" item-content [class.hasvalue]="!!project.label">{{project.label || '请选择'}}</span>
    </button>

  </ion-card>

  <ion-card *ngIf="dataList.length > 0">
    <ion-card-header>找到{{dataList.length}}条记录</ion-card-header>
    <ion-item *ngFor="let person of dataList" (click)="selectItem(person);" tappable>
      <h2>{{person.custname}}
        
      </h2>
      <p>职业顾问: {{person.sellername}}</p>
      <ion-note item-right class="right-sec">
        <span class="follow-type follow-type-{{person.followtype}}">
          {{person.followtype == '10' ? '来电' : '来访'}}
        </span><br>
        <ion-icon name="ios-create-outline" *ngIf="person.canedit != '0'"></ion-icon>
        <span *ngIf="person.canedit == '0'">&emsp;&emsp;</span>
      </ion-note>
    </ion-item>
  </ion-card>

  <div class="buttons">
      <ion-row>
        <ion-col col-6 style="padding: 0 10px 0 15px;">
            <button ion-button outline block (click)="query(1);">来电</button>
        </ion-col>
        <ion-col col-6 style="padding: 0 15px 0 10px;">
            <button ion-button block (click)="query(2);">来访</button>
        </ion-col>
      </ion-row>
    </div>
</ion-content>
